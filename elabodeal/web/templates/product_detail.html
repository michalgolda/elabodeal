{% extends 'layouts/base.html' %}
{% load static %}

{% block title-description %}{{ product.title }}{% endblock %}

{% block css %}
<style>
	.header {
		display: grid;
	    grid-column-gap: 32px;
	    grid-template-columns: 420.33px 1fr;
	}

	.pdfviewer {
		width: auto;
		height: 600px;
		background: white;
		border: 1px solid var(--grey);
		border-radius: 2px;
	}

	.section > form {
		display: inline-block;
	}

	button[type="add-to-cart"] {
		width: 150px;
	}

	.detail {
		border: 1px solid var(--grey);
		background: white;
		border-radius: 2px;
		padding: 0px 16px 0px 16px;
	}

	.detail-wrapper {
		height: 22px;
	}

	.product-list {
	    display: grid;
	    grid-column-gap: 32px;
	    grid-template-columns: 280px 280px 280px 280px;
	}

</style>
{% endblock %}

{% block body %}
{% include 'components/navigation.html' %}
<div class="container">
	<header class="section header">
		<section class="section">
			<img
				class="pdfviewer"
				src="{{ product.cover_img_url }}"
				alt="{{ product.title }}"
			/>
		</section>
		<section class="section">
			<div class="section">
				<section class="section">
					<h1 class="font-size-big color-black font-weight-600">{{ product.title }}</h1>
					<p class="margin-top-8px font-size-medium font-weight-300">Krzystof Bosak</p>
				</section>
				<section class="section">
					<section class="section">
						<p class="margin-top-8px text-align-right color-green font-size-big">{{ product.price }} zł</p>
					</section>
					<section class="section text-align-right margin-top-16px">
						<form>
							<button class="btn btn-green">Kup teraz</button>
						</form>
						<form method="POST" action="/cart/">
							{% csrf_token %}
							<input type="hidden" name="product_id" value="{{ product.id }}">
							<input type="hidden" name="product_price" value="{{ product.price }}">
							<input type="hidden" name="action_type" value="add-product-to-cart">
							
							<button class="btn btn-orange
							margin-left-16px" type="add-to-cart">Dodaj do koszyka</button>
						</form>
					</section>
				</section>
				<section class="section box margin-top-16px">
					<div class="detail-wrapper section margin-top-8px margin-bottom-8px clear-both">
						<p class="float-left color-black">Ilość stron</p>
						<p class="float-right color-orange">{{ product.page_count }}</p>
					</div>
					<div class="detail-wrapper section margin-top-8px margin-bottom-8px clear-both">
						<p class="float-left color-black">Rok wydania</p>
						<p class="float-right color-orange">1920</p>
					</div>
					<div class="detail-wrapper section margin-top-8px margin-bottom-8px clear-both">
						<p class="float-left color-black">Formaty</p>
						<p class="float-right color-orange">PDF MOBI</p>
					</div>
					<div class="detail-wrapper section margin-top-8px margin-bottom-8px clear-both">
						<p class="float-left color-black">Kategoria</p>
						<p class="float-right color-orange">{{ product.category.name }}</p>
					</div>
					<div class="detail-wrapper section margin-top-8px margin-bottom-8px clear-both">
						<p class="float-left color-black">Numer ISBN</p>
						<p class="float-right color-orange">{{ product.isbn }}</p>
					</div>
				</section>
				<section class="section margin-top-32px">
					<button class="btn btn-orange">Opis</button>
					<button class="btn btn-outline-orange margin-left-16px">Spis treści</button>
					<div class="box margin-top-16px">
						<p class="color-black">{{ product.description }}</p>
					</div>
				</section>
			</div>
		</section>
	</header>
	<section class="section">
		<p class="section-label margin-top-32px margin-bottom-16px">Podobne</p>
		<div class="section product-list">
			{% for p in related_products %}
				{% include 'components/product.html' with title=p.title author=p.author.username price=p.price cover_img_url=p.cover_img_url id=p.id %}
			{% endfor %}
		</div>
	</section>
</div>
{% include 'components/bigfooter.html' %}
{% endblock %}